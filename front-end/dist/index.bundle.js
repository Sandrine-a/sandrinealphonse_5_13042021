(()=>{"use strict";var e="localhost"===location.hostname||"127.0.0.1"===location.hostname?"http://localhost:3000":"https://orinoco-cameras-shop.herokuapp.com",t=JSON.parse(localStorage.getItem("article"));function n(e,t,n,r,c,a,o){try{var i=e[a](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,c)}function r(e){return function(){var t=this,r=arguments;return new Promise((function(c,a){var o=e.apply(t,r);function i(e){n(o,c,a,i,s,"next",e)}function s(e){n(o,c,a,i,s,"throw",e)}i(void 0)}))}}document.querySelector(".control__panier--total");var c=[],a=document.getElementById("articles__list");function o(){return i.apply(this,arguments)}function i(){return(i=r(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,fetch("".concat(e,"/api/cameras/")).then((function(e){if(e.ok)return e.json()})).then((function(e){c=e})).catch((function(e){a.innerHTML=' <p class="col text-info h5">Une erreur est survenue, nous vous prions de bien vouloir réessayer dans un instant.</P>\n        <p class="h5">'.concat(e,"<p>")}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function s(){return(s=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:return e.abrupt("return",c.forEach((function(e){var t=document.createElement("article");t.classList.add("card","col-md-5","mx-2","mx-md-3","my-3","shadow-lg","rounded-0"),t.innerHTML='\n    <a href="./product.html?id='.concat(e._id,'" class="card-body text-white text-md-left"> \n      <h3 class="card-title text-center">').concat(e.name,'</h3>\n      <img src="').concat(e.imageUrl,'" class="card-img"/>\n      <div class="mt-3 h5">').concat(e.price/100,' €\n        <p class="mt-1">Voir cet article...</p> \n      </div> \n    </a> '),a.appendChild(t)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){try{var e=document.querySelector(".header__cart--popup"),n=t&&t.length>0,r=e.className.includes("hide");if(n&&r){var c=0;for(var a in t)c+=t[a].qty;e.classList.remove("hide"),e.innerHTML=c}}catch(e){console.error("Erreur sur l'affichage de la pop up")}}(),function(){s.apply(this,arguments)}()})();